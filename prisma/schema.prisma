generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum VerificationState {
  PENDING
  ACCEPTED
  REJECTED
}

model User {
  id           String @id @default(uuid()) @db.Uuid
  email        String @unique
  passwordHash String @map("password_hash")
  name         String @unique
  phone        String // TIDAK Sesuai

  birthDate  DateTime? @map("birth_date") @db.Date
  birthPlace String?   @map("birth_place")
  nik        String?

  verificationState            VerificationState @default(PENDING) @map("verification_state")
  verificationStateChangedTime DateTime?         @map("verification_state_changed_time")

  products Product[]

  @@map("users")
}

model Product {
  id    String   @id @default(uuid()) @db.Uuid
  name  String
  price Int
  specs String[]
  stock Int

  userId String @db.Uuid

  user User @relation(fields: [userId], references: [id])

  @@map("products")
}
